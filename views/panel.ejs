<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Painel de Atendimento</title>
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Sidebar com a lista de clientes -->
  <div class="sidebar">
    <h2>ðŸ“‹ Fila de Espera</h2>
    <button class="logout" onclick="logout()">Sair</button>
    <table>
      <tr>
        <th>Status</th>
        <th>Nome</th>
        <th>AÃ§Ãµes</th>
      </tr>
      <% queue.forEach(data => { %>
        <tr>
          <td>
            <% if (data.client.seller) { %>
              <span style="color: red; font-weight: bold;">ðŸ”´ Em Atendimento por <%= data.client.seller %></span>
            <% } else { %>
              <span style="color: green; font-weight: bold;">ðŸŸ¢ DisponÃ­vel</span>
            <% } %>
          </td>
          <td><%= data.client.name %></td>
          <td>
            <button onclick="enviarPagamento('<%= data.client.number %>')">Enviar Pagamento</button>
            <button onclick="encerrarAtendimento('<%= data.client.number %>')">Encerrar Atendimento</button>
            <button onclick="atenderCliente('<%= data.client.number %>', '<%= data.client.name %>')">Atender</button>
          </td>
        </tr>
      <% }); %>
    </table>
  </div>

  <!-- Chat incluÃ­do -->
  <div id="chat-container" class="chat-container">
    <%- include('chat', { messages: [], number: '' }) %>
  </div>

  <script src="js/panel.js"></script>
</body>
</html>
